(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(t,e,a){t.exports=a(28)},,,,,,function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){var n={"./pause.svg":22,"./play.svg":23};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id=21},function(t,e,a){t.exports=a.p+"static/media/pause.ca47aee8.svg"},function(t,e,a){t.exports=a.p+"static/media/play.fd3f2017.svg"},function(t,e,a){},function(t,e,a){},function(t,e,a){t.exports=a.p+"static/media/appLogo.15c492c6.png"},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(8),l=a.n(r),o=(a(17),a(6)),c=a.n(o),s=a(9),u=a(1),g=a(2),f=a(4),p=a(3),d=a(5),h=a(10),m=function(){var t=function(){var t=window.innerWidth,e=2;return t>1600?e=6:t>=768&&(e=4),e}();return new Array(t).fill(null).map(function(){return{data:[],totalHeight:0}})},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.forEach(function(t){var a,n=e.map(function(t){return t.totalHeight}),i=(a=n).indexOf(Math.min.apply(Math,Object(h.a)(a)));e[i].data.push({moving:t.images.fixed_width,still:t.images.fixed_width_still,key:t.id,title:t.title}),e[i].totalHeight+=Number(t.images.fixed_width.height)}),e},v=function(){return window.innerHeight+window.scrollY>=document.body.offsetHeight-200},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return fetch("".concat("https://api.giphy.com/v1/gifs/","search?q=").concat(t,"&api_key=").concat("lmdFUQVnyLK4jA2jRvnLKjqUXfE0mY6G","&limit=").concat(20,"&offset=").concat(20*e)).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){return console.error(t)})},w=(a(19),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(i)))).state={value:""},a.onKeyDown=function(t){return"Enter"===t.key&&a.updateValue()},a.onChange=function(t){return a.setState({value:t.target.value})},a.updateValue=function(){return a.props.updateSearchValue(a.state.value)},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){return i.a.createElement("input",{type:"text",onKeyDown:this.onKeyDown,onChange:this.onChange,placeholder:"Search",className:"searchInput"})}}]),e}(n.Component));w.defaultProps={updateSearchValue:function(){}};var b=w,j=(a(20),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(i)))).state={isPlaying:a.props.isPlayingAll,cachedProp:a.props.isPlayingAll},a.toggleGifPlaying=function(){return a.setState({isPlaying:!a.state.isPlaying})},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.state.isPlaying,e=this.props,n=e.imageData,r=e.title,l=e.cellWidth,o=t?"pause":"play",c=t?n.moving:n.still,s=c.height/c.width*l;return i.a.createElement("div",{className:"imageContainer",onClick:this.toggleGifPlaying,style:{margin:"".concat(10,"px")}},i.a.createElement("img",{className:"imageControl",src:a(21)("./".concat(o,".svg"))}),i.a.createElement("img",{className:"gifImage",src:c.url,width:l-20,height:s,alt:r}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.isPlayingAll!==e.cachedProp?{isPlaying:t.isPlayingAll,cachedProp:t.isPlayingAll}:null}}]),e}(i.a.Component));j.defaultProps={gridData:[],isPlayingAll:!1};var O=j,C=(a(24),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).getGridColumn=function(t,e){return t.map(function(t){return i.a.createElement(O,{imageData:t,key:t.id,cellWidth:e,isPlayingAll:a.props.isPlayingAll})})},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t,e=this,a=(t=this.props.gridData.length,(window.innerWidth-120)/t),n=this.props.gridData.map(function(t,n){return i.a.createElement("div",{key:n},e.getGridColumn(t.data,a))});return i.a.createElement("div",{className:"gridContainer"},n)}}]),e}(n.Component));C.defaultProps={gridData:[],isPlayingAll:!1};var A=C,E=(a(25),function(t){var e=t.isPlayingAll,n=t.togglePlayingState,r=e?"Pause All":"Play All";return i.a.createElement("div",{className:"headerContainer"},i.a.createElement("img",{src:a(26),className:"appLogo"}),i.a.createElement("div",{className:"controlsContainer",onClick:n},r))});E.defaultProps={isPlayingAll:!1,togglePlayingState:function(){}};var S=E,D=(a(27),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(i)))).state={searchValue:"",apiCallCount:0,gridData:[],isPlayingAll:!1,noGIf:!1},a.onScroll=function(){return v()&&a.callGetGif()},a.callGetGif=function(){var t=a.state,e=t.searchValue,n=t.apiCallCount,i=t.gridData;P(e,n).then(function(t){if(t.data.length){var e=y(t.data,i);a.setState({gridData:e,apiCallCount:n+1})}else a.setState({noGIf:!0})})},a.updateSearchValue=function(){var t=Object(s.a)(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.setState({searchValue:e,apiCallCount:0,gridData:m()});case 2:a.callGetGif();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.togglePlayingState=function(){return a.setState({isPlayingAll:!a.state.isPlayingAll})},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"componentDidMount",value:function(){this.setState({gridData:m()}),window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var t=this.state,e=t.isPlayingAll,a=t.noGIf;return i.a.createElement("div",{className:"appContainer"},i.a.createElement(S,{togglePlayingState:this.togglePlayingState,isPlayingAll:e}),i.a.createElement(b,{updateSearchValue:this.updateSearchValue}),a?i.a.createElement("div",{className:"noGifMessage"}," No gif found! \ud83d\ude14 "):i.a.createElement(A,{gridData:this.state.gridData,isPlayingAll:e}))}}]),e}(n.Component));l.a.render(i.a.createElement(D,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.804d260c.chunk.js.map