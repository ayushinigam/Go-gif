(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a.p+"static/media/search.35fb3dd2.svg"},,,,function(t,e,a){t.exports=a(29)},,,,,,function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){var n={"./pause.svg":23,"./play.svg":24,"./search.svg":8};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id=22},function(t,e,a){t.exports=a.p+"static/media/pause.ca47aee8.svg"},function(t,e,a){t.exports=a.p+"static/media/play.fd3f2017.svg"},function(t,e,a){},function(t,e,a){},function(t,e,a){t.exports=a.p+"static/media/appLogo.15c492c6.png"},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(9),l=a.n(r),o=(a(18),a(6)),c=a.n(o),s=a(10),u=a(1),g=a(2),p=a(4),d=a(3),h=a(5),f=a(11),m=function(){var t=function(){var t=window.innerWidth,e=2;return t>1600?e=6:t>=768&&(e=4),e}();return new Array(t).fill(null).map(function(){return{data:[],totalHeight:0}})},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.forEach(function(t){var a,n=e.map(function(t){return t.totalHeight}),i=(a=n).indexOf(Math.min.apply(Math,Object(f.a)(a)));e[i].data.push({moving:t.images.fixed_width,still:t.images.fixed_width_still,key:t.id,title:t.title}),e[i].totalHeight+=Number(t.images.fixed_width.height)}),e},v=function(){return window.innerHeight+window.scrollY>=document.body.offsetHeight-200},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t?function(t){return"search?q=".concat(t,"&")}(t):"trending?";return fetch("".concat("https://api.giphy.com/v1/gifs/").concat(a,"api_key=").concat("lmdFUQVnyLK4jA2jRvnLKjqUXfE0mY6G","&limit=").concat(20,"&offset=").concat(20*e)).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){return console.error(t)})},w=(a(20),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={value:""},a.onKeyDown=function(t){return"Enter"===t.key&&a.updateValue()},a.onChange=function(t){return a.setState({value:t.target.value})},a.updateValue=function(){return a.props.updateSearchValue(a.state.value)},a}return Object(h.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"searchContainer"},i.a.createElement("input",{type:"text",onKeyDown:this.onKeyDown,onChange:this.onChange,placeholder:"Search",className:"searchInput",disabled:this.props.disabled}),i.a.createElement("img",{className:"searchIcon",src:a(8),alt:"search",onClick:this.updateValue}))}}]),e}(n.Component));w.defaultProps={updateSearchValue:function(){}};var C=w,b=(a(21),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={isPlaying:a.props.isPlayingAll,cachedProp:a.props.isPlayingAll},a.toggleGifPlaying=function(){return a.setState({isPlaying:!a.state.isPlaying})},a}return Object(h.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.state.isPlaying,e=this.props,n=e.imageData,r=e.title,l=e.cellWidth,o=t?"pause":"play",c=t?n.moving:n.still,s=l-20,u=c.height/c.width*l;return i.a.createElement("div",{className:"imageContainer",onClick:this.toggleGifPlaying,style:{margin:"".concat(10,"px")}},i.a.createElement("img",{className:"imageControl",src:a(22)("./".concat(o,".svg")),alt:"play pause button"}),i.a.createElement("img",{className:"gifImage",src:c.url,width:s,height:u,alt:r}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.isPlayingAll!==e.cachedProp?{isPlaying:t.isPlayingAll,cachedProp:t.isPlayingAll}:null}}]),e}(n.Component));b.defaultProps={gridData:[],isPlayingAll:!1};var E=b,j=(a(25),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).getGridColumn=function(t,e){return t.map(function(t){return i.a.createElement(E,{imageData:t,key:t.key,cellWidth:e,isPlayingAll:a.props.isPlayingAll})})},a}return Object(h.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t,e=this,a=(t=this.props.gridData.length,(window.innerWidth-120)/t),n=this.props.gridData.map(function(t,n){return i.a.createElement("div",{key:n},e.getGridColumn(t.data,a))});return i.a.createElement("div",{className:"gridContainer"},n)}}]),e}(n.Component));j.defaultProps={gridData:[],isPlayingAll:!1};var O=j,A=(a(26),function(t){var e=t.isPlayingAll,n=t.togglePlayingState,r=e?"Pause All":"Play All";return i.a.createElement("div",{className:"headerContainer"},i.a.createElement("div",{className:"logoAndSearchContainer"},i.a.createElement("img",{src:a(27),className:"appLogo",alt:"app logo"}),t.children),i.a.createElement("div",{className:"controlContainer"},i.a.createElement("div",{onClick:function(){return t.getTrendingGif()},className:"controlButton"},"Trending"),i.a.createElement("div",{onClick:n,className:"controlButton"},r)))});A.defaultProps={isPlayingAll:!1,togglePlayingState:function(){}};var D=A,S=(a(28),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={searchValue:"",apiCallCount:0,gridData:[],isPlayingAll:!1,noGIf:!1,apiCallInProgress:!1},a.componentDidMount=function(){a.updateGiphyData(),window.addEventListener("scroll",a.onScroll,!1)},a.updateGiphyData=Object(s.a)(c.a.mark(function t(){var e,n=arguments;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"",t.next=3,a.setState({searchValue:e,apiCallCount:0,gridData:m()});case 3:return t.next=5,a.getGiphyData();case 5:case"end":return t.stop()}},t)})),a.onScroll=function(){return v()&&a.getGiphyData()},a.getGiphyData=function(){var t=a.state,e=t.apiCallCount,n=t.gridData,i=t.searchValue;t.apiCallInProgress||(a.setState({apiCallInProgress:!0}),P(i,e).then(function(t){var i=y(t.data,n);a.setState({gridData:i,apiCallCount:e+1,apiCallInProgress:!1,noGIf:!t.data.length})}).catch(function(){return a.setState({apiCallInProgress:!1})}))},a.togglePlayingState=function(){return a.setState({isPlayingAll:!a.state.isPlayingAll})},a.componentWillUnmount=function(){window.removeEventListener("scroll",a.onScroll,!1)},a}return Object(h.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.state,e=t.isPlayingAll,a=t.noGIf,n=t.gridData;return i.a.createElement("div",{className:"appContainer"},i.a.createElement(D,{togglePlayingState:this.togglePlayingState,isPlayingAll:e,getTrendingGif:this.updateGiphyData},i.a.createElement(C,{updateSearchValue:this.updateGiphyData})),a?i.a.createElement("div",{className:"noGifMessage"}," No gif found! :) "):i.a.createElement(O,{gridData:n,isPlayingAll:e}))}}]),e}(n.Component));l.a.render(i.a.createElement(S,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.e7e4e03b.chunk.js.map