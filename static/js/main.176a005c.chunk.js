(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a.p+"static/media/search.35fb3dd2.svg"},function(t,e,a){t.exports=a.p+"static/media/whatsapp.fe7fa822.svg"},,,,function(t,e,a){t.exports=a(30)},,,,,,function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){var n={"./pause.svg":24,"./play.svg":25,"./search.svg":8,"./whatsapp.svg":9};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id=23},function(t,e,a){t.exports=a.p+"static/media/pause.ca47aee8.svg"},function(t,e,a){t.exports=a.p+"static/media/play.fd3f2017.svg"},function(t,e,a){},function(t,e,a){},function(t,e,a){t.exports=a.p+"static/media/appLogo.15c492c6.png"},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(10),l=a.n(r),o=(a(19),a(6)),c=a.n(o),s=a(11),u=a(1),g=a(2),p=a(4),h=a(3),d=a(5),f=a(12),m=function(){var t=function(){var t=window.innerWidth,e=2;return t>1600?e=6:t>=768&&(e=4),e}();return new Array(t).fill(null).map(function(){return{data:[],totalHeight:0}})},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.forEach(function(t){var a,n=e.map(function(t){return t.totalHeight}),i=(a=n).indexOf(Math.min.apply(Math,Object(f.a)(a)));e[i].data.push({moving:t.images.fixed_width,still:t.images.fixed_width_still,key:t.id,title:t.title});var r=e[i].totalHeight;e[i].totalHeight=r+Number(t.images.fixed_width.height)}),e},y=function(){var t=document.body.offsetHeight;return window.innerHeight+window.scrollY>=t-200},P=function(t){return"search?q=".concat(t,"&")},w=function(){return"trending?"},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return fetch("".concat("https://api.giphy.com/v1/gifs/").concat(t,"api_key=").concat("lmdFUQVnyLK4jA2jRvnLKjqUXfE0mY6G","&limit=").concat(20,"&offset=").concat(20*e)).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){return console.error(t)})},b=(a(21),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(i)))).state={value:""},a.onKeyDown=function(t){return"Enter"===t.key&&a.updateValue()},a.onChange=function(t){return a.setState({value:t.target.value})},a.updateValue=function(){return a.props.updateSearchValue(a.state.value)},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"searchContainer"},i.a.createElement("input",{type:"text",onKeyDown:this.onKeyDown,onChange:this.onChange,placeholder:"Search",className:"searchInput",disabled:this.props.disabled}),i.a.createElement("img",{className:"searchIcon",src:a(8),alt:"search",onClick:this.updateValue}))}}]),e}(n.Component));b.defaultProps={updateSearchValue:function(){}};var E=b,j=(a(22),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(i)))).state={isPlaying:a.props.isPlayingAll,cachedProp:a.props.isPlayingAll},a.toggleGifPlaying=function(){return a.setState({isPlaying:!a.state.isPlaying})},a.onShareClick=function(t){return t.stopPropagation()},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.state.isPlaying,e=this.props,n=e.imageData,r=e.title,l=e.cellWidth,o=t?"pause":"play",c=t?n.moving:n.still,s=l-20,u=c.height/c.width*l;return i.a.createElement("div",{className:"imageContainer",onClick:this.toggleGifPlaying,style:{margin:"".concat(10,"px")}},i.a.createElement("img",{className:"imageControl",src:a(23)("./".concat(o,".svg")),alt:"play pause button"}),i.a.createElement("img",{className:"gifImage",src:c.url,width:s,height:u,alt:r}),i.a.createElement("a",{className:"share",href:"".concat("https://wa.me/?text=").concat(n.moving.url),onClick:this.onShareClick,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("img",{className:"whatsAppIcon",src:a(9),alt:"share on whatsapp"})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.isPlayingAll!==e.cachedProp?{isPlaying:t.isPlayingAll,cachedProp:t.isPlayingAll}:null}}]),e}(n.Component));j.defaultProps={imageData:{},title:"",cellWidth:10,isPlayingAll:!1};var A=j,O=(a(26),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).getGridColumn=function(t,e){return t.map(function(t){return i.a.createElement(A,{imageData:t,key:t.key,cellWidth:e,isPlayingAll:a.props.isPlayingAll})})},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this,e=function(t){var e=t>2?120:20;return(window.innerWidth-e)/t}(this.props.gridData.length),a=this.props.gridData.map(function(a,n){return i.a.createElement("div",{key:n},t.getGridColumn(a.data,e))});return i.a.createElement("div",{className:"gridContainer"},a)}}]),e}(n.Component));O.defaultProps={gridData:[],isPlayingAll:!1};var D=O,k=(a(27),function(t){var e=t.isPlayingAll,n=t.togglePlayingState,r=e?"Pause All":"Play All";return i.a.createElement("div",{className:"headerContainer"},i.a.createElement("div",{className:"logoAndSearchContainer"},i.a.createElement("img",{src:a(28),className:"appLogo",alt:"app logo"}),t.children),i.a.createElement("div",{className:"controlContainer"},i.a.createElement("div",{onClick:function(){return t.getTrendingGif()},className:"controlButton"},"Trending"),i.a.createElement("div",{onClick:n,className:"controlButton"},r)))});k.defaultProps={isPlayingAll:!1,togglePlayingState:function(){}};var S=k,N=(a(29),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(i)))).state={searchValue:"",apiCallCount:0,gridData:[],isPlayingAll:!1,noGIf:!1,apiCallInProgress:!1},a.componentDidMount=function(){a.updateGiphyData(),window.addEventListener("scroll",a.onScroll,!1)},a.updateGiphyData=Object(s.a)(c.a.mark(function t(){var e,n=arguments;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"",t.next=3,a.setState({searchValue:e,apiCallCount:0,gridData:m()});case 3:return t.next=5,a.getGiphyData();case 5:case"end":return t.stop()}},t)})),a.onScroll=function(){return y()&&a.getGiphyData()},a.getGiphyData=function(){var t=a.state,e=t.apiCallCount,n=t.gridData,i=t.searchValue;if(!t.apiCallInProgress){a.setState({apiCallInProgress:!0});var r=i?P(i):w();C(r,e).then(function(t){var i=!t.data.length&&!e,r=v(t.data,n);a.setState({gridData:r,apiCallCount:e+1,apiCallInProgress:!1,noGIf:i})}).catch(function(){return a.setState({apiCallInProgress:!1,noGIf:!0})})}},a.togglePlayingState=function(){return a.setState({isPlayingAll:!a.state.isPlayingAll})},a.componentWillUnmount=function(){window.removeEventListener("scroll",a.onScroll,!1)},a}return Object(d.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.state,e=t.isPlayingAll,a=t.noGIf,n=t.gridData;return i.a.createElement("div",{className:"appContainer"},i.a.createElement(S,{togglePlayingState:this.togglePlayingState,isPlayingAll:e,getTrendingGif:this.updateGiphyData},i.a.createElement(E,{updateSearchValue:this.updateGiphyData})),a?i.a.createElement("div",{className:"noGifMessage"}," No gif found! :) "):i.a.createElement(D,{gridData:n,isPlayingAll:e}))}}]),e}(n.Component));l.a.render(i.a.createElement(N,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.176a005c.chunk.js.map